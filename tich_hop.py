import requests
import json
import time
import os
import subprocess
import requests
import Detection_malware_machine_learning
from scan_file_with_clamav import clamav
from cuckoo_sendbox_analysis_malware import cuckoo
# r = requests.get('https://www.virustotal.com/')
# print(r.status_code==requests.codes.ok)
# #print(r.headers)
# print (r.json)
# url='https://www.virustotal.com/'
# path='C:/Users/damnq3198/Desktop/Machine-Learning-Malware-Detection-master/data/malware/fee18f402375b210fc7b89e29084fb8e478d5ee0f0cdb85d4618d14abb2e5197'
#
# scanurl = "https://www.virustotal.com/gui/home/upload"
# session = requests.Session()
# response = session.get('http://facebook.com')
# print(session.cookies.get_dict())
# for c in session.cookies:
#     print(c.value)
#     print(c.path)
#     print(c.domain)
#     print(c.name)



def machine_learning(filename):
    Detection_malware_machine_learning.main(filename)


def main():
    while(True):
        filename =input("Enter the file you need scan:")
        exists = os.path.isfile(filename)
        if exists:
        # Store configuration file values
        #     if (clamav(filename) == 1):
        #         print("this is malware")
        #     else:
                machine_learning(filename)
                break;

        else:
            print("file is not exist")



if __name__ == '__main__':
    main()